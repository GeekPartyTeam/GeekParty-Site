{% extends 'GeekPartyBundle::parent.html.twig' %}

{% import 'GeekPartyBundle::macros.html.twig' as macros %}

{% block title %} GeekParty :: Редактирование проекта {% endblock %}

{% block main %}
    <div class="briefLine">
        <div class="briefImage">
            <img src="http://geekparty.ru/img/team/edit_team.png" alt="edit" />
        </div>
        <div class="briefDescription">
            <p><a href="{{ path('project') }}">&larr; назад к списку</a></p>
            <h2 class="inlineBlock">Редактировать проект</h2>

            {% if entity.id %}
                <form class="inlineBlock" action="{{ path('project_delete', {'id': entity.id}) }}" method="post">
                    {{ form_rest(delete_form) }}
                    <input class="inlineBlock" id="deleteTeamWithH" type="submit" value="Удалить"/>
                </form>
            {% endif %}

            <br />
            <br />

            <form id="teamEditorMain" action="{%if entity.id %}{{ path('project_update', { 'id': entity.id }) }}{% else %}{{ path('project_create') }}{% endif %}" method="post" {{ form_enctype(edit_form) }}>
                <div id="">
                    {{ form_errors(edit_form) }}

                    <div id="rightBorder">
                        <div class="teamEditorControlBlock">
                            <h3>Идентификатор проекта</h3>
                            <p class="inputLabel">Только английские буквы и цифры, без пробелов</p>
                            {{ form_widget(edit_form.id) }}
                        </div>

                        <div class="teamEditorControlBlock">
                            <h3>Название проекта</h3>
                            <p class="inputLabel">Максисмум 30 символов</p>
                            {{ form_widget(edit_form.name) }}
                        </div>

                        <div class="teamEditorControlBlock">
                            <h3>Описание проекта</h3>
                            <p class="inputLabel"></p>
                            {{ form_widget(edit_form.description) }}
                        </div>

                        <div class="teamEditorControlBlock">
                            <h3>Подробное описание</h3>
                            <p class="inputLabel"></p>
                            {{ form_widget(edit_form.longDescription) }}
                        </div>

                        <div class="teamEditorControlBlock">
                            <h3>Иконка</h3>
                            {% if entity.id %}
                                <img src="{{ asset('works/' ~ entity.party.id ~ '/' ~ entity.id ~ '_icon.png') }}"/>
                            {% endif %}
                            <p class="inputLabel">Размер иконки будет изменен на 120x110</p>
                            {{ form_widget(edit_form.icon) }}
                        </div>

                        <div class="teamEditorControlBlock">
                            <h3>ZIP-архив с игрой</h3>
                            <p class="inputLabel">Архив должен содержать файл index.html в корне. Не больше 50 Мб</p>
                            {{ form_widget(edit_form.file) }}
                        </div>

                        {{ macros.submit("Сохранить") }}
                    </div>
                </div>

                <div style="clear:both"></div>

                {{ form_rest(edit_form) }}
                {{ tinymce_init() }}
            </form>
        </div> <!-- teamEditorBlock -->
    </div> <!-- content -->
{% endblock %}

